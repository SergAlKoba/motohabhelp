!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(r){"use strict";function n(){function e(e,t,n){n=n||0,o.insertRule?o.insertRule(e+"{"+t+"}",n):o.addRule(e,t,n)}var o=(t=r("<style>").appendTo("head")).prop("sheet")||t.prop("styleSheet"),t=(e("."+p.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+p.rtlClass+" ."+p.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+p.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+p.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);"),r("html")),n=r("body");"rtl"!==t.css("direction")&&"rtl"!==n.css("direction")||t.addClass(p.rtlClass),t.on("reset",function(){setTimeout(function(){f.refreshAll()},0)}),p.styleSheetCreated=!0}var o,a,i,s,e,c,d,l=[],p={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},t="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,u=/Windows Phone/.test(navigator.userAgent),h=(p.isMobileDevice=!(!t&&!u),t=navigator.pointerEnabled||navigator.msPointerEnabled,u="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,o={},a="jcf-",t=t?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(u?" touchstart":""),pointermove:"mousemove"+(u?" touchmove":""),pointerup:"mouseup"+(u?" touchend":"")},r.each(t,function(n,e){r.each(e.split(" "),function(e,t){o[t]=n})}),r.each(t,function(e,t){t=t.split(" "),r.event.special[a+e]={setup:function(){var n=this;r.each(t,function(e,t){n.addEventListener?n.addEventListener(t,s,!1):n["on"+t]=s})},teardown:function(){var n=this;r.each(t,function(e,t){n.addEventListener?n.removeEventListener(t,s,!1):n["on"+t]=null})}}}),i=null,s=function(e){var t=e||window.event,n=o[t.type];if((e=r.event.fix(t)).type=a+n,t.pointerType)switch(t.pointerType){case 2:e.pointerType="touch";break;case 3:e.pointerType="pen";break;case 4:e.pointerType="mouse";break;default:e.pointerType=t.pointerType}else e.pointerType=t.type.substr(0,5);if(e.pageX||e.pageY||(n=t.changedTouches?t.changedTouches[0]:t,e.pageX=n.pageX,e.pageY=n.pageY),"touchend"===t.type&&(i={x:e.pageX,y:e.pageY}),"mouse"!==e.pointerType||!i||!function(e){var t=Math.abs(e.pageX-i.x),e=Math.abs(e.pageY-i.y);if(t<=25&&e<=25)return!0}(e))return(r.event.dispatch||r.event.handle).call(this,e)},e=("onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll").split(" "),c="jcf-mousewheel",r.event.special[c]={setup:function(){var n=this;r.each(e,function(e,t){n.addEventListener?n.addEventListener(t,d,!1):n["on"+t]=d})},teardown:function(){var n=this;r.each(e,function(e,t){n.addEventListener?n.removeEventListener(t,d,!1):n["on"+t]=null})}},d=function(e){var t=e||window.event;return(e=r.event.fix(t)).type=c,"detail"in t&&(e.deltaY=-t.detail),"wheelDelta"in t&&(e.deltaY=-t.wheelDelta),"wheelDeltaY"in t&&(e.deltaY=-t.wheelDeltaY),"wheelDeltaX"in t&&(e.deltaX=-t.wheelDeltaX),"deltaY"in t&&(e.deltaY=t.deltaY),"deltaX"in t&&(e.deltaX=t.deltaX),e.delta=e.deltaY||e.deltaX,1===t.deltaMode&&(e.delta*=16,e.deltaY*=16,e.deltaX*=16),(r.event.dispatch||r.event.handle).call(this,e)},{fireNativeEvent:function(e,t){r(e).each(function(){var e;this.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),this.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=this).fireEvent("on"+t,e)})},bindHandlers:function(){var n=this;r.each(n,function(e,t){0===e.indexOf("on")&&r.isFunction(t)&&(n[e]=function(){return t.apply(n,arguments)})})}}),f={version:"1.2.3",modules:{},getOptions:function(){return r.extend({},p)},setOptions:function(e,t){1<arguments.length?this.modules[e]&&r.extend(this.modules[e].prototype.options,t):r.extend(p,e)},addModule:function(e){r.isFunction(e)&&(e=e(r,window));function t(e){e.element.data(p.dataKey)||e.element.data(p.dataKey,this),l.push(this),this.options=r.extend({},p,this.options,n(e.element),e),this.bindHandlers(),this.init.apply(this,arguments)}var n=function(e){var t=e.data(p.optionsKey),e=e.attr(p.optionsKey);if(t)return t;if(e)try{return r.parseJSON(e)}catch(e){}},o=(t.prototype=e,r.extend(e,h),e.plugins&&r.each(e.plugins,function(e,t){r.extend(t.prototype,h)}),t.prototype.destroy);t.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=l.length-1;0<=e;e--)if(l[e]===this){l.splice(e,1);break}o&&o.apply(this,arguments)},this.modules[e.name]=t},getInstance:function(e){return r(e).data(p.dataKey)},replace:function(e,o,t){var a,i=this;return p.styleSheetCreated||n(),r(e).each(function(){var e,n=r(this);(a=n.data(p.dataKey))?a.refresh():(o||r.each(i.modules,function(e,t){if(t.prototype.matchElement.call(t.prototype,n))return o=e,!1}),o&&(e=r.extend({element:n},t),a=new i.modules[o](e)))}),a},refresh:function(e){r(e).each(function(){var e=r(this).data(p.dataKey);e&&e.refresh()})},destroy:function(e){r(e).each(function(){var e=r(this).data(p.dataKey);e&&e.destroy()})},replaceAll:function(n){var o=this;r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(){this.className.indexOf("jcf-ignore")<0&&o.replace(this,e)})})},refreshAll:function(n){if(n)r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(){var e=r(this).data(p.dataKey);e&&e.refresh()})});else for(var e=l.length-1;0<=e;e--)l[e].refresh()},destroyAll:function(n){if(n)r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(e,t){t=r(t).data(p.dataKey);t&&t.destroy()})});else for(;l.length;)l[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=f),f});